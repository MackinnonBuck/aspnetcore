@attribute [Client]

<div class="@DemoUtils.PlatformClass">
    <button @onclick="IncrementAsync">Click count: @_count</button>
    
    <br />

    Server count: @_serverCount
    <ServerCounter IncrementAmount="IncrementAmount * 2" Incremented="OnServerCounterIncremented" />
</div>

@code {
    private int _count;
    private int _serverCount;

    [Parameter]
    public int IncrementAmount { get; set; } = 1;

    [Parameter]
    public EventCallback<int> Incremented { get; set; }

    private async Task IncrementAsync()
    {
        _count += IncrementAmount;
        await Incremented.InvokeAsync(_count);
    }

    private void OnServerCounterIncremented(int count)
    {
        _serverCount = count;
    }
}
